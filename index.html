<!DOCTYPE html>
<html >
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <title>Account Signup</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.1.0/milligram.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="shortcut icon" type="img/png" href="favicon.png">
  </head>
<body>
  <header class="row">
    <div class="column column-50 column-offset-25 center">
      <div class="solid center"><img src="images/logo.png" class="logo"></div>
      <h3>Create your account</h3>
    </div>
  </header>

  <article id="successbox">
    <div class="row">
      <div class="column column-50 column-offset-25 center">
        <div class="icon icon-success svg">
          <svg xmlns="http://www.w3.org/2000/svg" width="72px" height="72px">
            <g fill="none" stroke="#43C47A" stroke-width="2">
              <circle cx="36" cy="36" r="35" style="stroke-dasharray:240px, 240px; stroke-dashoffset: 480px;"></circle>
              <path d="M17.417,37.778l9.93,9.909l25.444-25.393" style="stroke-dasharray:50px, 50px; stroke-dashoffset: 0px;"></path>
            </g>
          </svg>
        </div>
        <h3>Success!</h3>
        <p id="notifymessage"></p>
      </div>
    </div>
  </article>

  <article id="signup">
    <div class="row">
      <div class="column column-50 column-offset-25">
        <label for="username">Pick a user name</label>
        <div class="row">
          <div class="column column-75">
            <input type="text" class="account" id="user" name="username" value="" oninput="validateAccount()" autofocus>
          </div>
          <div class="column column-25">
            <button class="button" id="check" onclick="checkExists()">Check</button>
          </div>
        </div>
        <label for="username">Email</label>
        <div class="row">
          <div class="column">
            <input type="email" id="email" name="email" value="" onkeyup="setGravatar()">
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="column center">
        <div id="accountinfo">
          <span id="schema"></span><strong><span id="username"></span></strong>.<span id="domain"></span><span id="status"></span>
          <button class="button button-small hidden" id="claim" onclick="createAccount()">Yes</button>
        </div>
        <div id="illegal">
          <small>Only letters, numbers, hyphens (-) and underscores (_) are accepted.</small>
        </div>
      </div>
    </div>
  </article>

  <article id="profile">
    <div class="row">
      <div class="column center">
        Now, add some details about yoursef
        <div class="clearfix"></div>
      </div>
    </div>
    <div class="row">
      <div class="column column-50 column-offset-25">
        <div class="avatar center">
          <input type="file" id="inputFileToLoad" class="hidden" onchange="loadImageFileAsURL()">
          <div id="avatar">
            <div class="camera-wrap">
              <span class='camera'></span>
            </div>
            <img class="profilepic hidden">
          </div>
          <!-- <a href="#" class="remove-avatar" onclick="removePicture()">Remove picture</a> -->
        </div>
        <div class="clearfix"></div>
        <label for="name">Full name</label>
        <input type="text" class="fullname" id="name" name="name" value="" onkeyup="validateProfile()">
      </div>
    </div>
    <div class="row">
      <div class="column column-50 column-offset-25">
        <form id="spkacform" method="POST" target="spkacframe">
          <keygen id="spkacWebID" name="spkac" challenge="randomchars" keytype="rsa" hidden></keygen>
          <iframe class="hidden" name="spkacframe"></iframe>
          <input type="text" id="webid" class="hidden" name="webid">
          <input type="text" id="certname" class="hidden" name="name" value="">
          <!-- <h3 class="center">You're almost there!</h3> -->
          <!-- <p class="justify">In this final step, strong cryptographic keys will be generated and installed in the browser. Using them avoids having to remember passwords, thus offerring increased security.</p> -->
          <div class="center">
            <button id="finish" class="button" onclick="updateProfile()">Finish</button>
          </div>
        </form>
      </div>
    </div>
  </article>

  <footer id="finished">
    <div class="buttons center">
      <button id="return" class="button" onclick="returnToApp()">Take me back to the app</button>
      <button id="done" class="button" onclick="showAccount()">Take me to my Solid dashboard</button>
    </div>
  </footer>

  <!-- Local Javascript -->
  <script src="js/md5.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
